<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduTrack</title>
</head>
<body>
    <!-- Skapa sjÃ¤lva applikationen -->
    <h3>Hello <%= name %></h3>
    <p>Please put in amount of minutes of your session (ex. 85)</p>
    Session duration: <input id="duration" type="text" placeholder="Session duration"><br>
    <p>Please pick the right session for your studies</p>
    Session type: <select name="sessiontype" id="sessiontype" placeholder="Session Type">
        <option value="Lecture">Lecture</option>
        <option value="Selfstudies">Self Studies</option>
        <option value="Homework">Homework</option>
        <option value="Project">Project</option>
        <option value="TentaP">TentaP</option>
        <option value="Labs">Labs</option>
      </select><br>
    <p>Pick the grade for the session where 5 is best and 1 is worst</p>
    Session Rating: <input id="rating" type="number" min="1" max="5" value="1"><br>
    <p>Pick the grade for how you feel physically, if you are sick it's a 1, and 5 is you are feeling good.</p>
    Physical wellbeing: <input id="health" type="number" min="1" max="5" value="1"><br>
    <button onclick="addSession()">Add session</button>
    <script>
        function addSession(){
            fetch("http://localhost:3000/app?action=addStudySession", {
                method: "POST",
	  		    body: JSON.stringify({
                    time: document.getElementById("duration").value ?? -1,
                    type: document.getElementById("sessiontype").value,
                    rating: document.getElementById("rating").value,
                    health: document.getElementById("health").value 
	  		    }),
	  		    headers: {
	  		        "Content-type": "application/json; charset=UTF-8"
	  		    }
            })
        }
    </script>
</body>
</html>